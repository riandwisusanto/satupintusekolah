import{F as e}from"./form-DahAXf6B.js";import{Z as o,a as t,r as a,f as s,o as l,m as n,h as d,F as r,D as i}from"./vue-CzxLGHcz.js";import"./app-Bqfx2xBk.js";const p={class:"content",style:{height:"calc(100vh - 100px)",overflow:"auto"}},u={class:"container-fluid h-100"},c={__name:"request",setup(c){const f=function(e){const t=o();return null==t?void 0:t.appContext.config.globalProperties.$resolveComponent(e)}("TruncateTooltip"),m=t(),y=t(!1),g=t(null),v=t(!1),_=[{field:"id",display:"ID"},{field:"method",display:"Method"},{field:"url",display:"Endpoint",component:({row:e})=>i("span",{class:"text-black"},e.url.split("v1")[1])},{field:"ip",display:"IP"},{field:"user.name",display:"User"},{field:"payload",display:"Payload",component:({row:e})=>{const o=e.payload?JSON.stringify(e.payload):"-";return i(f,{text:o,limit:50})}},{field:"response_code",display:"Code",component:({row:e})=>i(StatusTag,{status:e.response_code,class:e.response_code>=400?"badge-danger":"badge-success"})},{field:"response_body",display:"Response Body",component:({row:e})=>{const o=e.response_body?JSON.stringify(e.response_body):"-";return i(f,{text:o,limit:100})}},{field:"created_at",display:"Created At",component:({row:e})=>i("span",{},new Date(e.created_at).toLocaleString())},{field:"updated_at",display:"Updated At",component:({row:e})=>i("span",{},new Date(e.updated_at).toLocaleString())}],w=e=>{g.value=e,v.value=!0};return(o,t)=>{const i=a("TableServerSide");return l(),s(r,null,[n("section",p,[n("div",u,[d(i,{ref_key:"tableRef",ref:m,title:"Request Logs",class:"mx-auto h-100",columns:_,"initial-sort":{field:"id",order:"desc"},per_page:10,loading:y.value,endpoint:"request-logs",extra:{with:"user"},onRowClick:w},null,8,["loading"])])]),d(e,{modelValue:v.value,"onUpdate:modelValue":t[0]||(t[0]=e=>v.value=e),log:g.value,type:"request"},null,8,["modelValue","log"])],64)}}};export{c as default};
