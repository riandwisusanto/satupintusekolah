import{a as e,b as t,e as a,K as n,c as l,s,q as o,T as u,L as d,M as i,o as r,f as c,g as v,j as f,N as h,n as m,h as w,t as p,J as y}from"./vue-3FdbM0aa.js";import{_ as b}from"./app-DGJl0Mcl.js";const g={key:0,class:"drag-handle"},x={class:"card-header d-flex justify-content-between align-items-center py-3"},k={class:"mb-0 flex-grow-1 text-center"},T={class:"card-body flex-grow-1 overflow-y-auto"},_=b({__name:"FormDrawer",props:{modelValue:{type:Boolean,default:!1},title:{type:String,default:""},width:{type:Number,default:600},fullscreen:{type:Boolean,default:!1}},emits:["update:modelValue","save"],setup(b,{emit:_}){const W=b,j=_,E=e(null),L=e(0),V=e(0),C=e(!1),X=t(()=>"undefined"!=typeof window&&window.innerWidth<=768),$=t(()=>{if(X.value)return{width:"100vw",height:"100dvh",maxWidth:"none",right:"0"};if(W.fullscreen)return{width:"100vw",height:"100dvh",maxWidth:"none",right:"0"};const e=window.innerWidth>768&&window.innerWidth<=1024,t=Math.min(W.width,.9*window.innerWidth);return{width:e?"80vw":`${t}px`,height:"100vh",maxWidth:e?"80vw":`${t}px`,right:"0"}}),B=t({get:()=>W.modelValue,set:e=>j("update:modelValue",e)});function M(e){L.value=e.touches[0].clientX,V.value=e.touches[0].clientY,C.value=!0}function z(e){if(!C.value||!E.value)return;const t=e.touches[0].clientX,a=e.touches[0].clientY,n=t-L.value,l=a-V.value;n<-50&&Math.abs(l)<50&&(E.value.style.transform=`translateX(${n}px)`)}function N(e){if(!C.value||!E.value)return;e.changedTouches[0].clientX-L.value<-100?q():E.value.style.transform="",C.value=!1}function S(e){"Escape"===e.key&&B.value&&q()}function Y(){i(()=>{E.value&&Object.assign(E.value.style,$.value)})}function q(){j("update:modelValue",!1)}function D(){j("save")}return a(()=>{document.addEventListener("keydown",S),window.addEventListener("resize",Y)}),n(()=>{document.removeEventListener("keydown",S),window.removeEventListener("resize",Y)}),(e,t)=>(r(),l(d,{to:"body"},[s(u,{name:"fade"},{default:o(()=>[B.value?(r(),c("div",{key:0,class:"drawer-overlay",onClick:f(q,["self"]),onTouchstart:M,onTouchend:N},null,32)):v("",!0)]),_:1}),s(u,{name:"slide"},{default:o(()=>[B.value?(r(),c("aside",{key:0,ref_key:"drawerPanel",ref:E,class:m(["drawer-panel card shadow-lg overflow-hidden",{"drawer-panel--mobile":X.value,"drawer-panel--fullscreen":b.fullscreen}]),style:h($.value),onTouchstart:M,onTouchmove:z,onTouchend:N},[X.value?(r(),c("div",g,[...t[0]||(t[0]=[w("div",{class:"drag-bar"},null,-1)])])):v("",!0),w("div",x,[w("button",{type:"button",class:"btn btn-tool btn-sm",onClick:q,"aria-label":"Tutup form"},[...t[1]||(t[1]=[w("i",{class:"fas fa-times"},null,-1)])]),w("h5",k,p(b.title),1),t[2]||(t[2]=w("div",{class:"placeholder-btn"},null,-1))]),w("div",T,[y(e.$slots,"default",{},void 0,!0)]),w("div",{class:"card-footer d-flex justify-content-end py-3"},[w("button",{type:"button",class:"btn btn-secondary mr-2",onClick:q}," Batal "),w("button",{type:"submit",class:"btn btn-primary",onClick:D}," Simpan ")])],38)):v("",!0)]),_:3})]))}},[["__scopeId","data-v-edfb5992"]]);export{_ as default};
