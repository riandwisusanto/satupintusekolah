import{a as e,b as t,e as a,N as n,c as l,s,q as o,T as i,O as u,P as d,o as r,f as c,g as v,j as f,C as h,n as m,h as w,t as p,B as y}from"./vue-DNxxE8NJ.js";import{_ as b}from"./app-YK7FhtRg.js";const g={key:0,class:"drag-handle"},x={class:"card-header d-flex justify-content-between align-items-center py-3"},k={class:"mb-0 flex-grow-1 text-center"},T={class:"card-body flex-grow-1 overflow-y-auto"},_=b({__name:"FormDrawer",props:{modelValue:{type:Boolean,default:!1},title:{type:String,default:""},width:{type:Number,default:600},fullscreen:{type:Boolean,default:!1}},emits:["update:modelValue","save"],setup(b,{emit:_}){const W=b,j=_,C=e(null),E=e(0),V=e(0),B=e(!1),L=t(()=>"undefined"!=typeof window&&window.innerWidth<=768),X=t(()=>{if(L.value)return{width:"100vw",height:"100dvh",maxWidth:"none",right:"0"};if(W.fullscreen)return{width:"100vw",height:"100dvh",maxWidth:"none",right:"0"};const e=window.innerWidth>768&&window.innerWidth<=1024,t=Math.min(W.width,.9*window.innerWidth);return{width:e?"80vw":`${t}px`,height:"100vh",maxWidth:e?"80vw":`${t}px`,right:"0"}}),$=t({get:()=>W.modelValue,set:e=>j("update:modelValue",e)});function z(e){E.value=e.touches[0].clientX,V.value=e.touches[0].clientY,B.value=!0}function M(e){if(!B.value||!C.value)return;const t=e.touches[0].clientX,a=e.touches[0].clientY,n=t-E.value,l=a-V.value;n<-50&&Math.abs(l)<50&&(C.value.style.transform=`translateX(${n}px)`)}function N(e){if(!B.value||!C.value)return;e.changedTouches[0].clientX-E.value<-100?S():C.value.style.transform="",B.value=!1}function O(e){"Escape"===e.key&&$.value&&S()}function P(){d(()=>{C.value&&Object.assign(C.value.style,X.value)})}function S(){j("update:modelValue",!1)}function Y(){j("save")}return a(()=>{document.addEventListener("keydown",O),window.addEventListener("resize",P)}),n(()=>{document.removeEventListener("keydown",O),window.removeEventListener("resize",P)}),(e,t)=>(r(),l(u,{to:"body",class:"font-serif-normal"},[s(i,{name:"fade"},{default:o(()=>[$.value?(r(),c("div",{key:0,class:"drawer-overlay",onClick:f(S,["self"]),onTouchstart:z,onTouchend:N},null,32)):v("",!0)]),_:1}),s(i,{name:"slide"},{default:o(()=>[$.value?(r(),c("aside",{key:0,ref_key:"drawerPanel",ref:C,class:m(["drawer-panel card shadow-lg overflow-hidden",{"drawer-panel--mobile":L.value,"drawer-panel--fullscreen":b.fullscreen}]),style:h(X.value),onTouchstart:z,onTouchmove:M,onTouchend:N},[L.value?(r(),c("div",g,[...t[0]||(t[0]=[w("div",{class:"drag-bar"},null,-1)])])):v("",!0),w("div",x,[w("button",{type:"button",class:"btn btn-tool btn-sm",onClick:S,"aria-label":"Tutup form"},[...t[1]||(t[1]=[w("i",{class:"fas fa-times"},null,-1)])]),w("h5",k,p(b.title),1),t[2]||(t[2]=w("div",{class:"placeholder-btn"},null,-1))]),w("div",T,[y(e.$slots,"default",{},void 0,!0)]),w("div",{class:"card-footer d-flex justify-content-end py-3"},[w("button",{type:"button",class:"btn btn-secondary mr-2",onClick:S}," Batal "),w("button",{type:"submit",class:"btn btn-primary",onClick:Y}," Simpan ")])],38)):v("",!0)]),_:3})]))}},[["__scopeId","data-v-31fa0e45"]]);export{_ as default};
