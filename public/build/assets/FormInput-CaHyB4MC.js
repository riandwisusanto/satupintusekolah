import{b as e,f as a,g as t,q as l,i as r,t as o,S as n,v as i,n as u,R as d,o as s}from"./vue-CzxLGHcz.js";import{_ as p}from"./app-Bhqy4hvs.js";const m=["for"],c={key:0,class:"text-danger"},f=["id","name","type","placeholder","required","disabled","value"],y=["id","name","placeholder","required","disabled"],v={key:3,class:"form-text text-muted"},b={key:4,class:"form-text text-danger"},g=p({__name:"FormInput",props:{modelValue:[String,Number,Date],type:{type:String,default:"text",validator:e=>["text","number","date","textarea","email"].includes(e)},money:Boolean,label:String,name:String,id:String,required:Boolean,placeholder:String,disabled:Boolean,help:String,error:String,wrapperClass:{type:String,default:"form-group"},inputProps:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(p,{emit:g}){const x=p,S=g,h=e(()=>x.id||x.name||`fi-${Math.random().toString(36).slice(2)}`);function q(e){return""===e||null==e||isNaN(e)?"":new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e)}function P(e){var a,t,l,r;const o=e.target.value;if(x.money){let l=function(e){const a=e.replace(/[^\d]/g,"");return Number(a||0)}(o);const r="number"==typeof(null==(a=x.inputProps)?void 0:a.min)?x.inputProps.min:void 0,n="number"==typeof(null==(t=x.inputProps)?void 0:t.max)?x.inputProps.max:void 0;void 0!==n&&l>n&&(l=n),void 0!==r&&l<r&&(l=r),S("update:modelValue",l),d(()=>{e.target.value=q(l)})}else{let e=o;if("number"===x.type){const a=parseFloat(o),t=null==(l=x.inputProps)?void 0:l.min,n=null==(r=x.inputProps)?void 0:r.max;isNaN(a)||("number"==typeof n&&a>n&&(e=n),"number"==typeof t&&a<t&&(e=t))}S("update:modelValue",e)}}const V=e(()=>x.money?q(x.modelValue):"date"===x.type&&x.modelValue instanceof Date?x.modelValue.toISOString().split("T")[0]:x.modelValue);return(e,d)=>(s(),a("div",{class:u(p.wrapperClass)},[p.label?(s(),a("label",{key:0,for:h.value,class:"form-label"},[r(o(p.label),1),p.required?(s(),a("span",c,"*")):t("",!0)],8,m)):t("",!0),"textarea"!==p.type?(s(),a("input",n({key:1,id:h.value,class:p.money?"form-control text-end":"form-control",name:p.name,type:p.money?"text":p.type,placeholder:p.placeholder,required:p.required,disabled:p.disabled,value:V.value},p.inputProps,{onInput:P}),null,16,f)):l((s(),a("textarea",n({key:2,id:h.value,"onUpdate:modelValue":d[0]||(d[0]=e=>V.value=e),class:"form-control",name:p.name,placeholder:p.placeholder,required:p.required,disabled:p.disabled},p.inputProps,{onInput:P}),null,16,y)),[[i,V.value]]),p.help?(s(),a("small",v,o(p.help),1)):t("",!0),p.error?(s(),a("small",b,o(p.error),1)):t("",!0)],2))}},[["__scopeId","data-v-41900d47"]]);export{g as default};
