import{I as a,p as s,H as e,a as l,f as o,h as t,j as i,k as r,v as n,U as d,R as c,n as m,i as p,u as f,o as u}from"./vue-3FdbM0aa.js";import{_ as g}from"./logo-jago-zZ4BCA5q.js";import{u as b,d as v,b as y}from"./app-dRKbozfU.js";const x={class:"vh-100",style:{background:"linear-gradient(to bottom, #001f3f, #003366)"}},h={class:"container py-5 h-100"},w={class:"row d-flex justify-content-center align-items-center h-100"},j={class:"col col-xl-10"},k={class:"card",style:{"border-radius":"1rem"}},A={class:"row g-0"},E={class:"col-md-6 col-lg-7 d-flex align-items-center"},O={class:"card-body p-4 p-lg-5 text-black"},S={"data-mdb-input-init":"",class:"form-outline mb-4"},z={class:"form-outline mb-4 position-relative"},J={class:"position-relative"},L=["type"],U={class:"pt-1 mb-4"},_={__name:"LoginForm",setup(_){const F=a("token",""),G=b(),P=f(),T=s({email:"",password:""}),M=e.useLoading({}),V=l(null),q=l(!1),C=l(!1),D=()=>{q.value=!q.value};return(a,s)=>(u(),o("section",x,[t("div",h,[t("div",w,[t("div",j,[t("div",k,[t("div",A,[s[14]||(s[14]=t("div",{class:"col-md-6 col-lg-5 d-none d-md-block"},[t("img",{src:"/build/assets/pngegg-COUx8eJ_.png",alt:"login form",class:"img-fluid p-4 p-lg-5 d-flex align-items-center mt-10",style:{"border-radius":"1rem 0 0 1rem"}})],-1)),t("div",E,[t("div",O,[t("form",{id:"loginForm",ref_key:"loginForm",ref:V,class:"needs-validation",novalidate:"",onSubmit:s[6]||(s[6]=i(a=>async function({email:a,password:s}){const e=V.value;if(!e.checkValidity())return e.classList.add("was-validated"),!1;e.classList.remove("was-validated");const l=M.show({}),o=await fetch("https://adajago.com/api/v1/login",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({email:a,password:s})}),t=await o.json();200===o.status?(F.value=JSON.stringify(t.data),G.setUser({accesstoken:t.data.token,role:t.data.user.role,permissions:t.data.user.permissions,user:t.data.user}),l.hide(),await v(t.message),P.push("/")):(l.hide(),await y(t.message))}(T),["prevent"]))},[s[11]||(s[11]=t("div",{class:"d-flex align-items-center mb-3 pb-1"},[t("img",{src:g,style:{width:"120px"},alt:"logo"}),t("span",{class:"h1 fw-bold mb-0",style:{"font-family":"'Georgia', serif","font-size":"230%",color:"#001f3f"}},"ADA JAGO")],-1)),s[12]||(s[12]=t("hr",null,null,-1)),s[13]||(s[13]=t("h5",{class:"fw-normal mb-3 pb-3",style:{"letter-spacing":"1px","font-family":"'Georgia', serif","font-size":"18px"}}," Aplikasi Digital Absensi & Jurnal Guru Online ",-1)),t("div",S,[s[7]||(s[7]=t("label",{class:"form-label",for:"form2Example17"},"Alamat Email",-1)),r(t("input",{id:"form2Example17","onUpdate:modelValue":s[0]||(s[0]=a=>T.email=a),style:{"font-size":"16px"},type:"email",class:"form-control form-control-lg",placeholder:"Email",required:""},null,512),[[n,T.email]]),s[8]||(s[8]=t("div",{class:"invalid-feedback"}," Please provide a valid email. ",-1))]),t("div",z,[s[9]||(s[9]=t("label",{class:"form-label",for:"form2Example27"},"Password",-1)),t("div",J,[r(t("input",{id:"form2Example27","onUpdate:modelValue":s[1]||(s[1]=a=>T.password=a),type:q.value?"text":"password",class:"form-control form-control-lg pe-5",placeholder:"Password",required:"",style:{"font-size":"16px"},onFocus:s[2]||(s[2]=a=>C.value=!0),onBlur:s[3]||(s[3]=a=>C.value=!1)},null,40,L),[[d,T.password]]),r(t("i",{class:m(["fa-solid",q.value?"fas fa-eye-slash":"fas fa-eye"]),style:{position:"absolute",top:"50%",right:"2.8rem",transform:"translateY(-50%)",cursor:"pointer",color:"#888","z-index":"3",height:"1.5rem","line-height":"1.5rem",display:"flex","align-items":"center","justify-content":"center"},onMousedown:i(D,["prevent"])},null,34),[[c,C.value||T.password]])])]),t("div",U,[t("button",{type:"submit",class:"btn btn-lg w-100 d-flex justify-content-center align-items-center gap-2",style:{"background-color":"#001f3f",color:"#fff",border:"none","box-shadow":"0 4px 12px rgba(0, 0, 0, 0.15)",transition:"all 0.3s ease-in-out"},onMouseover:s[4]||(s[4]=a=>a.currentTarget.style.boxShadow="0 6px 16px rgba(0, 0, 0, 0.25)"),onMouseout:s[5]||(s[5]=a=>a.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.15)")},[...s[10]||(s[10]=[t("i",{class:"fas fa-sign-in-alt"},null,-1),p(" Login ",-1)])],32)])],544)])])])])])])])]))}};export{_ as default};
