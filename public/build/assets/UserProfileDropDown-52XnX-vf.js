import{u as a,d as s,e,b as t}from"./app-CFGDmtZY.js";import{P as n,O as o,b as l,f as r,m as i,t as u,i as c,h as d,j as m,r as f,A as g,o as p}from"./vue-CzxLGHcz.js";const h={class:"nav-item dropdown user-menu"},b={href:"#",class:"nav-link dropdown-toggle d-flex align-items-center gap-2","data-toggle":"dropdown"},w=["src"],v={class:"d-none d-md-inline"},x={class:"dropdown-menu dropdown-menu-right"},k={class:"user-header d-flex flex-column align-items-center",style:{background:"linear-gradient(to bottom, #4a90e2, #7ed6df)"}},B=["src"],j={style:{color:"white"},class:"mt-2 text-center"},y={class:"user-footer d-flex px-3 pb-3"},C={__name:"UserProfileDropDown",setup(C){const A=g(),P=a(),L=n("token",""),T=o.useLoading(),U=l(()=>P.user),_=l(()=>{var a,s;const e=`${null==(a=P.user.user)?void 0:a.photo}`;return(null==(s=P.user.user)?void 0:s.photo)?e:"/assets/images/avatar5.png"});function D(){s.fire({title:"Yakin ingin keluar?",text:"Anda akan keluar dari sistem!",icon:"warning",confirmButtonText:'<i class="fas fa-check"></i> Ya, keluar',cancelButtonText:'<i class="fas fa-times"></i> Batal',showCancelButton:!0,buttonsStyling:!1,confirmButtonColor:"#07945f",cancelButtonColor:"#d33",customClass:{confirmButton:"btn btn-success btn-sm mr-2",cancelButton:"btn btn-danger btn-sm"}}).then(a=>{a.isConfirmed&&async function(){const a=T.show(),s=await fetch("https://adajago.com/api/v1/logout",{method:"POST",headers:{Accept:"application/json",Authorization:`Bearer ${P.user.accesstoken}`}}),n=await s.json();a.hide(),200===s.status?(await e(n.message),L.value="",A.push({name:"Login"})):await t(n.message)}()})}return(a,s)=>{const e=f("router-link");return p(),r("li",h,[i("a",b,[i("img",{src:_.value,class:"rounded-circle shadow",alt:"User Image",style:{width:"32px",height:"32px","object-fit":"cover"}},null,8,w),i("span",v,u(U.value.user.name),1)]),i("ul",x,[i("li",k,[i("img",{src:_.value,class:"rounded-circle shadow",alt:"User Image"},null,8,B),i("p",j,[c(u(U.value.user.name)+" ",1),s[0]||(s[0]=i("br",null,null,-1)),i("small",null,u(U.value.user.email),1)])]),i("li",y,[d(e,{to:"/profile",class:"btn btn-outline-secondary btn-sm"},{default:m(()=>[...s[1]||(s[1]=[i("i",{class:"fas fa-user"},null,-1),c(" Profile ",-1)])]),_:1}),i("button",{class:"btn btn-danger btn-sm ml-auto d-flex align-items-center",onClick:D},[...s[2]||(s[2]=[i("i",{class:"fas fa-sign-out-alt mr-1"},null,-1),c(" Logout ",-1)])])])])])}}};export{C as default};
