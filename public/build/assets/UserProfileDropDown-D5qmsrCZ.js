import{u as s,S as e,d as a,b as t}from"./app-YK7FhtRg.js";import{M as n,L as o,b as l,f as r,h as i,t as u,i as c,s as d,q as m,r as f,u as g,o as p}from"./vue-DNxxE8NJ.js";const h={class:"nav-item dropdown user-menu"},b={href:"#",class:"nav-link dropdown-toggle d-flex align-items-center gap-2","data-toggle":"dropdown"},w=["src"],v={class:"d-none d-md-inline"},k={class:"dropdown-menu dropdown-menu-right"},x={class:"user-header d-flex flex-column align-items-center",style:{background:"linear-gradient(to bottom, #4a90e2, #7ed6df)"}},B=["src"],y={style:{color:"white"},class:"mt-2 text-center"},C={class:"user-footer d-flex px-3 pb-3"},j={__name:"UserProfileDropDown",setup(j){const L=g(),A=s(),P=n("token",""),S=o.useLoading(),T=l(()=>A.user),U=l(()=>{var s,e;const a=`${null==(s=A.user.user)?void 0:s.photo}`;return(null==(e=A.user.user)?void 0:e.photo)?a:"/assets/images/avatar5.png"});function _(){e.fire({title:"Yakin ingin keluar?",text:"Anda akan keluar dari sistem!",icon:"warning",confirmButtonText:'<i class="fas fa-check"></i> Ya, keluar',cancelButtonText:'<i class="fas fa-times"></i> Batal',showCancelButton:!0,buttonsStyling:!1,confirmButtonColor:"#07945f",cancelButtonColor:"#d33",customClass:{confirmButton:"btn btn-success btn-sm mr-2",cancelButton:"btn btn-danger btn-sm"}}).then(s=>{s.isConfirmed&&async function(){const s=S.show(),e=await fetch("http://satupintusekolah.test/api/v1/logout",{method:"POST",headers:{Accept:"application/json",Authorization:`Bearer ${A.user.accesstoken}`}}),n=await e.json();s.hide(),200===e.status?(await a(n.message),P.value="",L.push({name:"Login"})):await t(n.message)}()})}return(s,e)=>{const a=f("router-link");return p(),r("li",h,[i("a",b,[i("img",{src:U.value,class:"rounded-circle shadow",alt:"User Image",style:{width:"32px",height:"32px","object-fit":"cover"}},null,8,w),i("span",v,u(T.value.user.name),1)]),i("ul",k,[i("li",x,[i("img",{src:U.value,class:"rounded-circle shadow",alt:"User Image"},null,8,B),i("p",y,[c(u(T.value.user.name)+" ",1),e[0]||(e[0]=i("br",null,null,-1)),i("small",null,u(T.value.user.email),1)])]),i("li",C,[d(a,{to:"/profile",class:"btn btn-outline-secondary btn-sm"},{default:m(()=>[...e[1]||(e[1]=[i("i",{class:"fas fa-user"},null,-1),c(" Profile ",-1)])]),_:1}),i("button",{class:"btn btn-danger btn-sm ml-auto d-flex align-items-center",onClick:_},[...e[2]||(e[2]=[i("i",{class:"fas fa-sign-out-alt mr-1"},null,-1),c(" Logout ",-1)])])])])])}}};export{j as default};
