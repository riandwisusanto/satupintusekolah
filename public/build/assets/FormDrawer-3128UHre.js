import{a as e,b as t,l as a,e as n,c as l,h as s,j as o,T as i,Q as u,R as d,o as r,f as c,g as v,p as f,z as h,n as m,m as w,t as p,G as y}from"./vue-CzxLGHcz.js";import{_ as b}from"./app-Bhqy4hvs.js";const g={key:0,class:"drag-handle"},x={class:"card-header d-flex justify-content-between align-items-center py-3"},k={class:"mb-0 flex-grow-1 text-center"},T={class:"card-body flex-grow-1 overflow-y-auto"},_=b({__name:"FormDrawer",props:{modelValue:{type:Boolean,default:!1},title:{type:String,default:""},width:{type:Number,default:600},fullscreen:{type:Boolean,default:!1}},emits:["update:modelValue","save"],setup(b,{emit:_}){const W=b,j=_,E=e(null),V=e(0),C=e(0),L=e(!1),X=t(()=>"undefined"!=typeof window&&window.innerWidth<=768),$=t(()=>{if(X.value)return{width:"100vw",height:"100dvh",maxWidth:"none",right:"0"};if(W.fullscreen)return{width:"100vw",height:"100dvh",maxWidth:"none",right:"0"};const e=window.innerWidth>768&&window.innerWidth<=1024,t=Math.min(W.width,.9*window.innerWidth);return{width:e?"80vw":`${t}px`,height:"100vh",maxWidth:e?"80vw":`${t}px`,right:"0"}}),z=t({get:()=>W.modelValue,set:e=>j("update:modelValue",e)});function B(e){V.value=e.touches[0].clientX,C.value=e.touches[0].clientY,L.value=!0}function M(e){if(!L.value||!E.value)return;const t=e.touches[0].clientX,a=e.touches[0].clientY,n=t-V.value,l=a-C.value;n<-50&&Math.abs(l)<50&&(E.value.style.transform=`translateX(${n}px)`)}function S(e){if(!L.value||!E.value)return;e.changedTouches[0].clientX-V.value<-100?F():E.value.style.transform="",L.value=!1}function Y(e){"Escape"===e.key&&z.value&&F()}function D(){d(()=>{E.value&&Object.assign(E.value.style,$.value)})}function F(){j("update:modelValue",!1)}function G(){j("save")}return a(()=>{document.addEventListener("keydown",Y),window.addEventListener("resize",D)}),n(()=>{document.removeEventListener("keydown",Y),window.removeEventListener("resize",D)}),(e,t)=>(r(),l(u,{to:"body",class:"font-serif-normal"},[s(i,{name:"fade"},{default:o(()=>[z.value?(r(),c("div",{key:0,class:"drawer-overlay",onClick:f(F,["self"]),onTouchstart:B,onTouchend:S},null,32)):v("",!0)]),_:1}),s(i,{name:"slide"},{default:o(()=>[z.value?(r(),c("aside",{key:0,ref_key:"drawerPanel",ref:E,class:m(["drawer-panel card shadow-lg overflow-hidden",{"drawer-panel--mobile":X.value,"drawer-panel--fullscreen":b.fullscreen}]),style:h($.value),onTouchstart:B,onTouchmove:M,onTouchend:S},[X.value?(r(),c("div",g,[...t[0]||(t[0]=[w("div",{class:"drag-bar"},null,-1)])])):v("",!0),w("div",x,[w("button",{type:"button",class:"btn btn-tool btn-sm",onClick:F,"aria-label":"Tutup form"},[...t[1]||(t[1]=[w("i",{class:"fas fa-times"},null,-1)])]),w("h5",k,p(b.title),1),t[2]||(t[2]=w("div",{class:"placeholder-btn"},null,-1))]),w("div",T,[y(e.$slots,"default",{},void 0,!0)]),w("div",{class:"card-footer d-flex justify-content-end py-3"},[w("button",{type:"button",class:"btn btn-secondary mr-2",onClick:F}," Batal "),w("button",{type:"submit",class:"btn btn-primary",onClick:G}," Simpan ")])],38)):v("",!0)]),_:3})]))}},[["__scopeId","data-v-31fa0e45"]]);export{_ as default};
