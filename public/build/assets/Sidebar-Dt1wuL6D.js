import{a as e,b as a,w as s,f as t,h as l,F as n,l as i,S as o,r,o as c,n as u,c as h,q as v,t as d,x as y,s as p,j as f,i as m,k,R as g,T as b}from"./vue-3FdbM0aa.js";import{_ as x}from"./logo-jago-zZ4BCA5q.js";import{_,u as j,c as w,s as L}from"./app-DGJl0Mcl.js";const W={class:"main-sidebar sidebar-dark-primary elevation-4",style:{background:"linear-gradient(to bottom, #001f3f, #003366)"}},S={class:"sidebar"},A={class:"mt-2"},B={class:"nav nav-pills nav-sidebar flex-column",role:"menu"},E=["onClick"],q={class:"nav nav-treeview pl-3"},C={style:{"font-size":"13.5px"}},F=_({__name:"Sidebar",setup(_){j().menus;const{startWithPermission:F}=w(),H=o(),P=e("");function R(e){return e.map(e=>{if(e.children){const a=R(e.children);return a.length?{...e,children:a}:null}return!e.permission||F(e.permission)?e:null}).filter(Boolean)}const z=a(()=>R(L)),I=e=>{e.style.height="0",e.style.opacity="0",e.style.transition="height 0.3s ease, opacity 0.3s ease"},T=e=>{const a=e.scrollHeight;e.style.height=a+"px",e.style.opacity="1"},D=e=>{e.style.height="auto"},G=e=>{e.style.height=e.scrollHeight+"px",e.style.opacity="1",e.style.transition="height 0.6s ease, opacity 0.5s ease"},J=e=>{requestAnimationFrame(()=>{e.style.height="0",e.style.opacity="0"})},K=e=>{e.style.height="auto"};return s(()=>H.path,e=>{const a=L.find(a=>!!a.children&&a.children.some(a=>e.startsWith(a.to)));if(a)return void(P.value=a.key);const s=L.find(a=>!a.children&&e.startsWith(a.to));P.value=s?s.key:""},{immediate:!0}),(e,a)=>{const s=r("RouterLink");return c(),t("aside",W,[a[1]||(a[1]=l("a",{href:"/",class:"brand-link text-center"},[l("img",{src:x,alt:"Logo",class:"brand-image elevation-3"}),l("span",{class:"brand-text font-weight-light text-white"},[l("b",null,"Satu Pintu Sekolah")])],-1)),l("div",S,[l("nav",A,[l("ul",B,[(c(!0),t(n,null,i(z.value,e=>(c(),t("li",{key:e.key,class:u(["nav-item",{"has-treeview":e.children,"menu-open":P.value===e.key}])},[e.children?(c(),t(n,{key:1},[l("a",{href:"#",class:u(["nav-link",{active:P.value===e.key}]),onClick:f(a=>P.value=P.value===e.key?"":e.key,["prevent"])},[l("i",{class:u(["nav-icon",e.icon])},null,2),l("p",null,[m(d(e.label)+" ",1),a[0]||(a[0]=l("i",{class:"right fas fa-angle-left"},null,-1))])],10,E),p(b,{onBeforeEnter:I,onEnter:T,onAfterEnter:D,onBeforeLeave:G,onLeave:J,onAfterLeave:K},{default:v(()=>[k(l("ul",q,[(c(!0),t(n,null,i(e.children,e=>(c(),t("li",{key:e.to,class:"nav-item"},[p(s,{to:e.to,class:u(["nav-link",{active:y(H).path.startsWith(e.to)}])},{default:v(()=>[l("i",{class:u(["nav-icon",e.icon])},null,2),l("p",C,d(e.label),1)]),_:2},1032,["to","class"])]))),128))],512),[[g,P.value===e.key]])]),_:2},1024)],64)):(c(),h(s,{key:0,to:e.to,class:u(["nav-link",{active:y(H).path.startsWith(e.to)}])},{default:v(()=>[l("i",{class:u(["nav-icon",e.icon])},null,2),l("p",null,d(e.label),1)]),_:2},1032,["to","class"]))],2))),128))])])])])}}},[["__scopeId","data-v-c876dc28"]]);export{F as default};
