import{P as a,B as e,O as s,a as l,f as o,m as t,p as i,q as r,v as n,W as d,U as c,n as m,i as p,A as f,o as u}from"./vue-CzxLGHcz.js";import{_ as g}from"./logo-jago-DWBj5E3U.js";import{u as b,e as v,b as y}from"./app-BZL2lnh6.js";const x={class:"vh-100",style:{background:"linear-gradient(to bottom, #001f3f, #003366)"}},h={class:"container py-5 h-100"},w={class:"row d-flex justify-content-center align-items-center h-100"},j={class:"col col-xl-10"},k={class:"card",style:{"border-radius":"1rem"}},A={class:"row g-0"},O={class:"col-md-6 col-lg-7 d-flex align-items-center"},E={class:"card-body p-4 p-lg-5 text-black"},S={"data-mdb-input-init":"",class:"form-outline mb-4"},z={class:"form-outline mb-4 position-relative"},J={class:"position-relative"},L=["type"],P={class:"pt-1 mb-4"},U={__name:"LoginForm",setup(U){const _=a("token",""),F=b(),G=f(),T=e({email:"",password:""}),q=s.useLoading({}),M=l(null),V=l(!1),B=l(!1),C=()=>{V.value=!V.value};return(a,e)=>(u(),o("section",x,[t("div",h,[t("div",w,[t("div",j,[t("div",k,[t("div",A,[e[14]||(e[14]=t("div",{class:"col-md-6 col-lg-5 d-none d-md-block"},[t("img",{src:"/build/assets/pngegg-COUx8eJ_.png",alt:"login form",class:"img-fluid p-4 p-lg-5 d-flex align-items-center mt-10",style:{"border-radius":"1rem 0 0 1rem"}})],-1)),t("div",O,[t("div",E,[t("form",{id:"loginForm",ref_key:"loginForm",ref:M,class:"needs-validation",novalidate:"",onSubmit:e[6]||(e[6]=i(a=>async function({email:a,password:e}){const s=M.value;if(!s.checkValidity())return s.classList.add("was-validated"),!1;s.classList.remove("was-validated");const l=q.show({}),o=await fetch("https://adajago.com/api/v1/login",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({email:a,password:e})}),t=await o.json();200===o.status?(_.value=JSON.stringify(t.data),F.setUser({accesstoken:t.data.token,role:t.data.user.role,permissions:t.data.user.permissions,user:t.data.user}),l.hide(),await v(t.message),G.push("/")):(l.hide(),await y(t.message))}(T),["prevent"]))},[e[11]||(e[11]=t("div",{class:"d-flex align-items-center mb-3 pb-1"},[t("img",{src:g,style:{width:"120px"},alt:"logo"}),t("span",{class:"h1 fw-bold mb-0",style:{"font-family":"'Georgia', serif","font-size":"230%",color:"#001f3f"}},"ADA JAGO")],-1)),e[12]||(e[12]=t("hr",null,null,-1)),e[13]||(e[13]=t("h5",{class:"fw-normal mb-3 pb-3",style:{"letter-spacing":"1px","font-family":"'Georgia', serif","font-size":"18px"}}," Aplikasi Digital Absensi & Jurnal Guru Online ",-1)),t("div",S,[e[7]||(e[7]=t("label",{class:"form-label",for:"form2Example17"},"Alamat Email",-1)),r(t("input",{id:"form2Example17","onUpdate:modelValue":e[0]||(e[0]=a=>T.email=a),style:{"font-size":"16px"},type:"email",class:"form-control form-control-lg",placeholder:"Email",required:""},null,512),[[n,T.email]]),e[8]||(e[8]=t("div",{class:"invalid-feedback"}," Please provide a valid email. ",-1))]),t("div",z,[e[9]||(e[9]=t("label",{class:"form-label",for:"form2Example27"},"Password",-1)),t("div",J,[r(t("input",{id:"form2Example27","onUpdate:modelValue":e[1]||(e[1]=a=>T.password=a),type:V.value?"text":"password",class:"form-control form-control-lg pe-5",placeholder:"Password",required:"",style:{"font-size":"16px"},onFocus:e[2]||(e[2]=a=>B.value=!0),onBlur:e[3]||(e[3]=a=>B.value=!1)},null,40,L),[[d,T.password]]),r(t("i",{class:m(["fa-solid",V.value?"fas fa-eye-slash":"fas fa-eye"]),style:{position:"absolute",top:"50%",right:"2.8rem",transform:"translateY(-50%)",cursor:"pointer",color:"#888","z-index":"3",height:"1.5rem","line-height":"1.5rem",display:"flex","align-items":"center","justify-content":"center"},onMousedown:i(C,["prevent"])},null,34),[[c,B.value||T.password]])])]),t("div",P,[t("button",{type:"submit",class:"btn btn-lg w-100 d-flex justify-content-center align-items-center gap-2",style:{"background-color":"#001f3f",color:"#fff",border:"none","box-shadow":"0 4px 12px rgba(0, 0, 0, 0.15)",transition:"all 0.3s ease-in-out"},onMouseover:e[4]||(e[4]=a=>a.currentTarget.style.boxShadow="0 6px 16px rgba(0, 0, 0, 0.25)"),onMouseout:e[5]||(e[5]=a=>a.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.15)")},[...e[10]||(e[10]=[t("i",{class:"fas fa-sign-in-alt"},null,-1),p(" Login ",-1)])],32)])],544)])])])])])])])]))}};export{U as default};
