import{u as a,S as s,d as e,b as t}from"./app-DGJl0Mcl.js";import{I as n,H as o,b as l,f as r,h as i,t as u,i as c,u as d,o as m}from"./vue-3FdbM0aa.js";const f={class:"nav-item dropdown user-menu"},g={href:"#",class:"nav-link dropdown-toggle d-flex align-items-center gap-2","data-toggle":"dropdown"},p=["src"],h={class:"d-none d-md-inline"},b={class:"dropdown-menu dropdown-menu-right"},w={class:"user-header d-flex flex-column align-items-center",style:{background:"linear-gradient(to bottom, #4a90e2, #7ed6df)"}},v=["src"],x={style:{color:"white"},class:"mt-2 text-center"},k={__name:"UserProfileDropDown",setup(k){const B=d(),y=a(),C=n("token",""),j=o.useLoading(),A=l(()=>y.user),I=l(()=>{var a,s;const e=`${null==(a=y.user.user)?void 0:a.photo}`;return(null==(s=y.user.user)?void 0:s.photo)?e:"/assets/images/avatar5.png"});function L(){s.fire({title:"Yakin ingin keluar?",text:"Anda akan keluar dari sistem!",icon:"warning",confirmButtonText:'<i class="fas fa-check"></i> Ya, keluar',cancelButtonText:'<i class="fas fa-times"></i> Batal',showCancelButton:!0,buttonsStyling:!1,confirmButtonColor:"#07945f",cancelButtonColor:"#d33",customClass:{confirmButton:"btn btn-success btn-sm mr-2",cancelButton:"btn btn-danger btn-sm"}}).then(a=>{a.isConfirmed&&async function(){const a=j.show(),s=await fetch("http://satupintusekolah.test/api/v1/logout",{method:"POST",headers:{Accept:"application/json",Authorization:`Bearer ${y.user.accesstoken}`}}),n=await s.json();a.hide(),200===s.status?(await e(n.message),C.value="",B.push({name:"Login"})):await t(n.message)}()})}return(a,s)=>(m(),r("li",f,[i("a",g,[i("img",{src:I.value,class:"rounded-circle shadow",alt:"User Image",style:{width:"32px",height:"32px","object-fit":"cover"}},null,8,p),i("span",h,u(A.value.name),1)]),i("ul",b,[i("li",w,[i("img",{src:I.value,class:"rounded-circle shadow",alt:"User Image"},null,8,v),i("p",x,[c(u(A.value.name)+" ",1),s[0]||(s[0]=i("br",null,null,-1)),i("small",null,u(A.value.email),1)])]),i("li",{class:"user-footer d-flex px-3 pb-3"},[s[2]||(s[2]=i("a",{href:"#",class:"btn btn-outline-secondary btn-sm"},[i("i",{class:"fas fa-user"}),c(" Profile ")],-1)),i("button",{class:"btn btn-danger btn-sm ml-auto d-flex align-items-center",onClick:L},[...s[1]||(s[1]=[i("i",{class:"fas fa-sign-out-alt mr-1"},null,-1),c(" Logout ",-1)])])])])]))}};export{k as default};
